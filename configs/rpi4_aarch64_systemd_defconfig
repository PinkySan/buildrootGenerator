# Zielarchitektur: AArch64 / ARMv8-A (64-bit)
BR2_aarch64=y
BR2_cortex_a72=y
BR2_ARM_FPU_VFPV4D16=y

# glibc als Standard-C-Bibliothek
BR2_TOOLCHAIN_BUILDROOT_GLIBC=y

# C++-Unterstützung aktivieren
BR2_TOOLCHAIN_BUILDROOT_CXX=y
BR2_INSTALL_LIBSTDCPP=y
BR2_TOOLCHAIN_BUILDROOT_WCHAR=y

# Export eines verwendbaren Sysroots für Crossbuilds
BR2_PACKAGE_HOST_TOOLCHAIN_EXTRACT_SYSROOT=y

# systemd als Init-System
BR2_INIT_SYSTEMD=y
BR2_PACKAGE_SYSTEMD=y
BR2_SYSTEM_DHCP="eth0"
BR2_TARGET_GENERIC_GETTY_PORT="ttyAMA0"
BR2_TARGET_GENERIC_GETTY_BAUDRATE_115200=y

# Linux-Kernel
BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_CUSTOM_VERSION=y
BR2_LINUX_KERNEL_CUSTOM_VERSION_VALUE="6.1.64"
BR2_LINUX_KERNEL_DEFCONFIG="bcm2711"
BR2_LINUX_KERNEL_DTS_SUPPORT=y
BR2_LINUX_KERNEL_INTREE_DTS_NAME="broadcom/bcm2711-rpi-4-b"

# U-Boot Bootloader
BR2_TARGET_UBOOT=y
BR2_TARGET_UBOOT_BOARD_DEFCONFIG="rpi_4"
BR2_TARGET_UBOOT_CUSTOM_VERSION=y
BR2_TARGET_UBOOT_CUSTOM_VERSION_VALUE="2023.10"
BR2_TARGET_UBOOT_FORMAT_IMG=y
BR2_TARGET_UBOOT_BOARDNAME="rpi_4"

# Raspberry Pi Firmware (für Boot-Partition)
BR2_PACKAGE_RPI_FIRMWARE=y
BR2_PACKAGE_RPI_FIRMWARE_INSTALL_DTB_OVERLAYS=y
BR2_PACKAGE_RPI_FIRMWARE_INSTALL_CMDS=y

# RootFS: ext4 + tar + bootfähiges SD-Image
BR2_ROOTFS_EXT2=y
BR2_ROOTFS_EXT2_4=y
BR2_ROOTFS_EXT2_SIZE="512M"
BR2_TARGET_ROOTFS_TAR=y
BR2_TARGET_SDIMAGE=y
BR2_TARGET_SDIMAGE_BOOT_PARTITION=y
BR2_TARGET_SDIMAGE_BOOT_PARTITION_FILES="bcm2711-rpi-4-b.dtb boot.scr zImage overlays/"

# SSH-Zugang via Dropbear
BR2_PACKAGE_DROPBEAR=y

# Nützliche Tools
BR2_PACKAGE_HTOP=y
BR2_PACKAGE_NANO=y
BR2_PACKAGE_GDB=y
